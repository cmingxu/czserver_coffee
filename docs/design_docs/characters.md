# 角色系统 Characters System #

[返回首页](./index.md)

## 功能说明：##

------------------------------------------------------------------

玩家可以选择一个角色，后面可以继续添加其它角色，每次只能选一个角色出战。

（一共有3种角色, 3男3女） 

  - 道士。剑法，武器是剑。
  - 战士。武器是铜锤、狼牙棒等重型武器。
  - 医师。武器是法杖。

每个角色可以建造4种塔，有4种必杀技能（待定）。 


每个角色可以带6中装备。分别是： 

	- Helmet 头盔
	- Armor 盔甲
	- Weapon 武器
	- Boots 长靴
	- Gloves 手套
	- Rings 戒指



------------------------------------------------------------------
### **角色属性：**

- user_id   属于的用户id， Ref
- name 名字
- gender 性别
- job 职业
- level 等级
- addedPropeties 永久增加的属性（类）

		- addedATK
		- addedDEF
		- addedHP
        - addedMP
- isDead？   是否死亡？？？ 或者用isAlive
	
- 根据职业和等级在配置文件中读取

		- HP 生命值
		- HP_max 生命值上限
		- MP 魔法值
		- MP_max 魔法值上限
		- HP_incSpeed 生命回复速度
		- MP_incSpeed 魔法回复速度
		- ATK 基础攻击力
		- ATKRange 攻击范围
		- ATKInterval 攻击时间间隔
		- DEF 基础防御力
		- moveSpeed 移动速度


- 角色拥有塔的技能。（详细见 [TowerSkills][]）

- 角色的装备：
		
		- Helmet 头盔
		- Armor 盔甲
		- Weapon 武器
		- Boots 长靴
		- Gloves 手套
		- Rings 戒指
		- 背包里的物品PackItems
		  -     数组[]
		  -     头盔
		  -     武器
		  -     护甲
		  -     药水（可叠加）
		  -     ......
		  -     position 摆放的位置？？？



[TowerSkills]:

### 造塔技能

塔技能的基本属性：

- id
- strKey   塔的字符串id：T0101，T0102等等
- level 等级

		- 塔的攻击力或其它属性根据strKey和level从配置文件中读取



------------------------------------------------------------------
### 相关Models：###

|    名称   |         说明       
|-----------|-------------------
| character |玩家选定的角色

------------------------------------------------------------------
# API地址：

### `POST: /characters/upgrade_level `  : 升级玩家的等级

**服务端逻辑：**

- 检测是否当前session登陆的玩家
- 根据升级的项目str_key, 在服务端里寻找该项目相应的费用。（在客户端显示升级费用时，也需要根据客户端的constData里的数值，检测玩家资源是否足够，如果不足够在GUI上以红色显示该费用的数值）
- 从用户数据里扣除费用，如果钱不够需要返回错误。
- 执行升级。更新属性数据。更新冷却时间数据。


### `POST: /characters/upgrade_tower   `  : 升级玩家造塔的技能

将需要升级的属性项目做为表单项目提交。

**服务端逻辑：**

- 检测是否当前session登陆的玩家
- 根据升级的项目str_key, 在服务端里寻找该项目相应的费用。（在客户端显示升级费用时，也需要根据客户端的constData里的数值，检测玩家资源是否足够，如果不足够在GUI上以红色显示该费用的数值）
- 从用户数据里扣除费用，如果钱不够需要返回错误。
- 执行升级。更新属性数据。更新冷却时间数据。


------------------------------------------------------------------

[返回首页](./index.md)


